(this["webpackJsonpreddit-browser"]=this["webpackJsonpreddit-browser"]||[]).push([[0],{25:function(e,t,c){},27:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(19),i=c.n(r),o=(c(25),c(4)),l=c.n(o),d=c(5),j=c(3);c(27);var u=function(e){var t=e.currentSub,c=e.setCurrentSub,n=Object(s.useState)(),r=Object(j.a)(n,2),i=r[0],o=r[1];return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{className:"logo",children:[Object(a.jsx)("h2",{children:"Light Reddit"}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),c(i)},children:Object(a.jsx)("input",{type:"text",name:"search",placeholder:"Search Subreddit",onChange:function(e){o(e.target.value)}})})]}),Object(a.jsxs)("nav",{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{className:"current-sub",children:["r/",t]}),Object(a.jsx)("p",{onClick:function(){return c("popular")},children:"POPULAR"}),Object(a.jsx)("p",{onClick:function(){return c("worldnews")},children:"WORLD NEWS"}),Object(a.jsx)("p",{onClick:function(){return c("AskReddit")},children:"ASK REDDIT"})]}),Object(a.jsxs)("select",{name:"",id:"",onChange:function(e){return c(e.target.value)},children:[Object(a.jsx)("option",{value:"roastme",children:"Roastme"}),Object(a.jsx)("option",{value:"pics",children:"Pics"}),Object(a.jsx)("option",{value:"programming",children:"Programming"}),Object(a.jsx)("option",{value:"programmerhumor",children:"Programmer Humor"}),Object(a.jsx)("option",{value:"humansbeingbros",children:"humans Being Bros"}),Object(a.jsx)("option",{value:"cursedcomments",children:"Cursed Comments"}),Object(a.jsx)("option",{value:"rareinsults",children:"Rare Insults"}),Object(a.jsx)("option",{value:"todayilearned",children:"Today I Learned"})]})]})]})},m=c(6),b=c.n(m),h=c.p+"static/media/loading.bad0cd25.gif";var p=function(e){var t=e.comments,c=e.commentLoading,s=e.loadingIcon,r=e.scrollY,i=function(){window.scrollTo(0,r)};return document.addEventListener("scroll",(function(){document.querySelector(".btn-showpost")&&(window.scrollY>=Math.floor(r)-500&&window.scrollY<=Math.floor(r)+500?document.querySelector(".btn-showpost").classList.add("btn-hide"):document.querySelector(".btn-showpost").classList.remove("btn-hide"))})),0===t.length?Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsxs)("div",{className:"comments-icon",children:[Object(a.jsx)("i",{className:"far fa-comment-dots"}),Object(a.jsxs)("p",{className:"title",children:["Comments (",t.length,")"]}),Object(a.jsx)("button",{className:"btn btn-showpost",onClick:i,children:"Show post"})]}),Object(a.jsx)("div",{className:"comment-loading",children:Object(a.jsx)("p",{children:"Select a post to see comments"})})]}):!0===c?Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsxs)("div",{className:"comments-icon",children:[Object(a.jsx)("i",{className:"far fa-comment-dots"}),Object(a.jsxs)("p",{className:"title",children:["Comments (",t.length,")"]})]}),Object(a.jsx)("div",{className:"comment-loading",children:Object(a.jsx)("img",{src:s,alt:""})})]}):Object(a.jsxs)("div",{className:"comments",children:[Object(a.jsxs)("div",{className:"comments-icon",children:[Object(a.jsx)("i",{className:"far fa-comment-dots"}),Object(a.jsxs)("p",{className:"title",children:["Comments (",t.length,")"]}),Object(a.jsx)("button",{className:"btn btn-showpost",onClick:i,children:"Show post"})]}),t.map((function(e){return Object(a.jsxs)(n.a.Fragment,{children:[Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsx)("p",{className:"username",children:e.data.author}),Object(a.jsx)("p",{children:e.data.body})]}),e.data.replies&&Object(a.jsxs)("details",{children:[Object(a.jsxs)("summary",{children:["Replies (",e.data.replies.data.children.length,")"]}),e.data.replies.data.children.map((function(t){return Object(a.jsxs)("div",{className:"reply",children:[Object(a.jsx)("p",{className:"reply-username",children:t.data.author}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"mention-username",children:e.data.author}),t.data.body]})]},t.data.id)}))]})]},e.data.id)}))]})};c(45);var O=function(e){var t=e.posts,c=e.setCurrentSub,n=e.postLoading,r=Object(s.useState)([]),i=Object(j.a)(r,2),o=i[0],u=i[1],m=Object(s.useState)(),O=Object(j.a)(m,2),x=O[0],v=O[1],f=Object(s.useState)(!1),g=Object(j.a)(f,2),N=g[0],w=g[1],k=Object(s.useState)(),S=Object(j.a)(k,2),_=S[0],y=S[1];Object(s.useEffect)((function(){R()}),[x]);var C="https://cors-anywhere.herokuapp.com/",L="https://www.reddit.com",R=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,b.a.get(x);case 4:return t=e.sent,e.next=7,t.data[1].data.children;case 7:c=e.sent,u(c),w(!1),y(window.scrollY),console.log(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();function E(e){return e<=1e3?e:e>=1e3&&e<1e4?e.slice(0,-3)+"."+e.slice(1,-2)+"k":e>=1e4&&e<1e5||e>=1e5<1e6?e.slice(0,-3)+"k":e>=1e6<1e7?e.slice(0,-6)+"m":void 0}return Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)("div",{className:"main",children:n?Object(a.jsx)("div",{className:"post-loading",children:Object(a.jsx)("img",{src:h,alt:""})}):t.map((function(e){return Object(a.jsxs)("div",{className:o[0]&&o[0].data.parent_id.slice(3)===e.data.id?"post active-post":"post",children:[Object(a.jsxs)("div",{className:"post-wrapper",children:[e.data.url_overridden_by_dest&&"jpg"!==e.data.url_overridden_by_dest.slice(-3)&&"png"!==e.data.url_overridden_by_dest.slice(-3)&&"gif"!==e.data.url_overridden_by_dest.slice(-3)?Object(a.jsx)("a",{href:e.data.url_overridden_by_dest,className:"title title-link",target:"_blank",children:e.data.title}):Object(a.jsx)("p",{className:"title",children:e.data.title}),""!==e.data.selftext&&Object(a.jsx)("p",{className:"text",children:e.data.selftext}),e.data.url&&"jpg"!==e.data.url.slice(-3)&&"png"!==e.data.url.slice(-3)&&"gif"!==e.data.url.slice(-3)&&!0!==e.data.is_video?Object(a.jsx)("img",{src:e.data.thumbnail,alt:"",onClick:function(){return v("".concat(C).concat(L).concat(e.data.permalink,".json"))}}):Object(a.jsx)("img",{src:e.data.url,alt:"",onClick:function(){return v("".concat(C).concat(L).concat(e.data.permalink,".json"))}}),!0===e.data.is_video&&Object(a.jsx)("video",{controls:!0,muted:!1,poster:e.data.thumbnail,src:e.data.media.reddit_video.fallback_url}),""!==e.data.url&&Object(a.jsx)(a.Fragment,{})]}),Object(a.jsxs)("div",{className:"post-footer",children:[Object(a.jsxs)("p",{className:"subreddit-name",onClick:function(){return c(e.data.subreddit)},children:["r/",e.data.subreddit]}),Object(a.jsx)("p",{className:"username",children:e.data.author}),Object(a.jsxs)("p",{children:[Object(a.jsx)("i",{className:"far fa-heart"}),E("".concat(e.data.ups))]}),Object(a.jsxs)("p",{className:"comment-btn",onClick:function(){return v("".concat(C).concat(L).concat(e.data.permalink,".json"))},children:[Object(a.jsx)("i",{className:"far fa-comment-dots"}),E("".concat(e.data.num_comments))]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("i",{className:"fas fa-award"}),e.data.total_awards_received]})]})]},e.data.id)}))}),Object(a.jsx)(p,{scrollY:_,comments:o,loadingIcon:h,commentLoading:N})]})};var x=function(){var e=Object(s.useState)("popular"),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)([]),i=Object(j.a)(r,2),o=i[0],m=i[1],h=Object(s.useState)(!1),p=Object(j.a)(h,2),x=p[0],v=p[1];Object(s.useEffect)((function(){g()}),[c]);var f="https://www.reddit.com/r/".concat(c,".json"),g=function(){var e=Object(d.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,b.a.get("".concat("https://cors-anywhere.herokuapp.com/").concat(f));case 4:return t=e.sent,e.next=7,t.data.data.children;case 7:c=e.sent,m(c),console.log(c),v(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(u,{currentSub:c,setCurrentSub:n}),Object(a.jsx)(O,{postLoading:x,posts:o,setCurrentSub:n})]})};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.6eb22908.chunk.js.map